<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>EimemesChat AI - Your Artificial Intelligence buddy</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		:root {
			--bg-primary: #1a1a2e;
			--bg-secondary: #16213e;
			--bg-sidebar: #0f0f19;
			--bg-input: rgba(255, 255, 255, 0.1);
			--text-primary: #ffffff;
			--text-secondary: rgba(255, 255, 255, 0.7);
			--accent-color: #58a6ff;
			--user-message: rgba(88, 166, 255, 0.2);
			--border-color: rgba(255, 255, 255, 0.2);
		}

		[data-theme="light"] {
			--bg-primary: #ffffff;
			--bg-secondary: #f5f5f7;
			--bg-sidebar: #f8f9fa;
			--bg-input: rgba(0, 0, 0, 0.05);
			--text-primary: #000000;
			--text-secondary: rgba(0, 0, 0, 0.7);
			--accent-color: #007acc;
			--user-message: rgba(0, 122, 204, 0.1);
			--border-color: rgba(0, 0, 0, 0.1);
		}

		body {
			background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
			color: var(--text-primary);
			height: 100vh;
			display: flex;
			flex-direction: column;
			transition: all 0.3s ease;
		}

		.header {
			background-color: rgba(10, 10, 20, 0.8);
			padding: 15px 20px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
			z-index: 10;
		}

		[data-theme="light"] .header {
			background-color: rgba(255, 255, 255, 0.9);
			border-bottom: 1px solid var(--border-color);
		}

		.logo {
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.logo-icon {
			background: linear-gradient(135deg, #5433FF 0%, #20BDFF 50%, #A5FECB 100%);
			width: 32px;
			height: 32px;
			border-radius: 5px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.logo-text {
			font-weight: 600;
			font-size: 1.2rem;
		}

		.container {
			display: flex;
			flex: 1;
			overflow: hidden;
		}

		.sidebar {
			width: 260px;
			background-color: var(--bg-sidebar);
			padding: 15px;
			display: flex;
			flex-direction: column;
			overflow-y: auto;
			transition: all 0.3s ease;
			border-right: 1px solid var(--border-color);
		}

		.new-chat-btn {
			background: var(--bg-input);
			border: 1px solid var(--border-color);
			color: var(--text-primary);
			padding: 12px;
			border-radius: 8px;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 10px;
			margin-bottom: 20px;
			transition: all 0.3s;
			width: 100%;
		}

		.new-chat-btn:hover {
			background: rgba(255, 255, 255, 0.1);
		}

		[data-theme="light"] .new-chat-btn:hover {
			background: rgba(0, 0, 0, 0.05);
		}

		.menu-section {
			margin-top: 20px;
			border-top: 1px solid var(--border-color);
			padding-top: 15px;
		}

		.menu-item {
			padding: 12px 15px;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.2s;
			display: flex;
			align-items: center;
			gap: 12px;
			margin-bottom: 5px;
			color: var(--text-primary);
			text-decoration: none;
		}

		.menu-item:hover {
			background: var(--bg-input);
		}

		.history-title {
			font-size: 0.9rem;
			color: var(--text-secondary);
			margin-bottom: 10px;
			margin-top: 20px;
		}

		.chat-history {
			display: flex;
			flex-direction: column;
			gap: 5px;
		}

		.history-item {
			padding: 10px 12px;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.2s;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.history-item:hover {
			background: var(--bg-input);
		}

		.history-item.active {
			background: var(--accent-color);
			color: white;
		}

		.chat-area {
			flex: 1;
			display: flex;
			flex-direction: column;
			position: relative;
		}

		.messages-container {
			flex: 1;
			overflow-y: auto;
			padding: 20px;
			display: flex;
			flex-direction: column;
			gap: 20px;
		}

		.message {
			display: flex;
			gap: 15px;
			max-width: 85%;
		}

		.message.user {
			align-self: flex-end;
			flex-direction: row-reverse;
		}

		.avatar {
			width: 36px;
			height: 36px;
			border-radius: 5px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: bold;
			flex-shrink: 0;
		}

		.user .avatar {
			background: linear-gradient(135deg, #5433FF 0%, #20BDFF 100%);
		}

		.assistant .avatar {
			background: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%);
		}

		.message-content {
			background: var(--bg-input);
			padding: 15px;
			border-radius: 10px;
			line-height: 1.5;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		}

		.user .message-content {
			background: var(--user-message);
			border-top-right-radius: 2px;
		}

		.assistant .message-content {
			border-top-left-radius: 2px;
		}

		.input-area {
			padding: 20px;
			background: rgba(10, 10, 20, 0.8);
			border-top: 1px solid var(--border-color);
		}

		[data-theme="light"] .input-area {
			background: rgba(255, 255, 255, 0.9);
		}

		.input-container {
			display: flex;
			align-items: flex-end;
			background: var(--bg-input);
			border-radius: 12px;
			padding: 10px 15px;
			border: 1px solid var(--border-color);
			transition: all 0.3s;
			max-width: 800px;
			margin: 0 auto;
		}

		.input-container:focus-within {
			border-color: var(--accent-color);
			box-shadow: 0 0 0 2px rgba(88, 166, 255, 0.2);
		}

		.message-input {
			flex: 1;
			background: transparent;
			border: none;
			color: var(--text-primary);
			font-size: 1rem;
			resize: none;
			max-height: 120px;
			outline: none;
			padding: 5px 0;
		}

		.message-input::placeholder {
			color: var(--text-secondary);
		}

		.send-btn {
			background: transparent;
			border: none;
			color: var(--text-secondary);
			cursor: pointer;
			padding: 5px;
			border-radius: 5px;
			transition: all 0.2s;
		}

		.send-btn:hover {
			color: var(--accent-color);
			background: var(--bg-input);
		}

		.welcome-message {
			text-align: center;
			max-width: 600px;
			margin: 0 auto;
			padding-top: 80px;
		}

		.welcome-title {
			font-size: 2rem;
			margin-bottom: 15px;
			background: linear-gradient(135deg, #5433FF 0%, #20BDFF 50%, #A5FECB 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}

		.welcome-subtitle {
			color: var(--text-secondary);
			margin-bottom: 30px;
			font-size: 1.1rem;
		}

		.capabilities {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 15px;
			margin-top: 30px;
		}

		.capability {
			background: var(--bg-input);
			padding: 15px;
			border-radius: 10px;
			text-align: center;
		}

		.capability i {
			font-size: 1.5rem;
			margin-bottom: 10px;
			color: var(--accent-color);
		}

		.capability-title {
			font-weight: 600;
			margin-bottom: 5px;
		}

		.capability-desc {
			font-size: 0.9rem;
			color: var(--text-secondary);
		}

		.typing-indicator {
			display: flex;
			gap: 5px;
			padding: 10px 15px;
		}

		.typing-dot {
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background-color: var(--text-secondary);
			animation: typing 1.4s infinite ease-in-out;
		}

		.typing-dot:nth-child(1) { animation-delay: -0.32s; }
		.typing-dot:nth-child(2) { animation-delay: -0.16s; }

		@keyframes typing {
			0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
			40% { transform: scale(1); opacity: 1; }
		}

		/* Settings Panel */
		.settings-panel {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.8);
			z-index: 100;
			align-items: center;
			justify-content: center;
		}

		.settings-content {
			background: var(--bg-sidebar);
			width: 90%;
			max-width: 500px;
			border-radius: 10px;
			padding: 20px;
			max-height: 90vh;
			overflow-y: auto;
		}

		.settings-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 20px;
			padding-bottom: 15px;
			border-bottom: 1px solid var(--border-color);
		}

		.settings-title {
			font-size: 1.5rem;
			font-weight: 600;
		}

		.close-settings {
			background: none;
			border: none;
			color: var(--text-primary);
			font-size: 1.5rem;
			cursor: pointer;
		}

		.settings-section {
			margin-bottom: 25px;
		}

		.section-title {
			font-size: 1.2rem;
			margin-bottom: 15px;
			color: var(--accent-color);
		}

		.theme-toggle {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 15px;
			background: var(--bg-input);
			border-radius: 8px;
			margin-bottom: 15px;
		}

		.theme-info {
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.toggle-switch {
			position: relative;
			display: inline-block;
			width: 50px;
			height: 24px;
		}

		.toggle-switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}

		.toggle-slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 24px;
		}

		.toggle-slider:before {
			position: absolute;
			content: "";
			height: 16px;
			width: 16px;
			left: 4px;
			bottom: 4px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
		}

		input:checked + .toggle-slider {
			background-color: var(--accent-color);
		}

		input:checked + .toggle-slider:before {
			transform: translateX(26px);
		}

		@media (max-width: 768px) {
			.sidebar {
				position: fixed;
				left: -100%;
				top: 0;
				height: 100%;
				z-index: 99;
				transition: left 0.3s ease;
				width: 280px;
			}
			
			.sidebar.active {
				left: 0;
			}
			
			.message {
				max-width: 95%;
			}
			
			.mobile-menu-btn {
				display: block;
			}
		}

		.mobile-menu-btn {
			display: none;
			background: none;
			border: none;
			color: var(--text-primary);
			font-size: 1.2rem;
			cursor: pointer;
			padding: 5px;
		}

		@media (max-width: 768px) {
			.mobile-menu-btn {
				display: block;
			}
		}

		.sidebar-overlay {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			z-index: 98;
		}

		@media (max-width: 768px) {
			.sidebar-overlay.active {
				display: block;
			}
		}
	</style>
</head>
<body data-theme="dark">
	<div class="header">
		<div class="logo">
			<button class="mobile-menu-btn" id="mobileMenuBtn">
				<i class="fas fa-bars"></i>
			</button>
			<div class="logo-icon">
				<i class="fas fa-robot"></i>
			</div>
			<div class="logo-text">EimemesChat AI</div>
		</div>
	</div>

	<div class="sidebar-overlay" id="sidebarOverlay"></div>

	<div class="container">
		<div class="sidebar" id="sidebar">
			<button class="new-chat-btn" id="newChatButton">
				<i class="fas fa-plus"></i>
				New Chat
			</button>

			<div class="history-title">Today</div>
			<div class="chat-history" id="chatHistory">
				<!-- Chat history will be populated here -->
			</div>

			<div class="menu-section">
				<div class="menu-item" id="settingsButton">
					<i class="fas fa-cog"></i>
					<span>Settings</span>
				</div>
				<div class="menu-item" id="themeToggleButton">
					<i class="fas fa-moon"></i>
					<span>Dark Theme</span>
				</div>
				<div class="menu-item" id="clearHistoryButton">
					<i class="fas fa-trash"></i>
					<span>Clear History</span>
				</div>
			</div>
		</div>

		<div class="chat-area">
			<div class="messages-container" id="messagesContainer">
				<div class="welcome-message">
					<h1 class="welcome-title">EimemesChat AI</h1>
					<p class="welcome-subtitle">Experience ChatGPT-like conversations powered by advanced AI developed by Eimemes AI team</p>
					
					<div class="capabilities">
						<div class="capability">
							<i class="fas fa-brain"></i>
							<div class="capability-title">Advanced AI</div>
							<div class="capability-desc">Powered by Hugging Face models</div>
						</div>
						<div class="capability">
							<i class="fas fa-bolt"></i>
							<div class="capability-title">Fast Responses</div>
							<div class="capability-desc">Quick and accurate answers</div>
						</div>
						<div class="capability">
							<i class="fas fa-magic"></i>
							<div class="capability-title">Smart Context</div>
							<div class="capability-desc">Understands Kuki conversation flow</div>
						</div>
					</div>
				</div>
			</div>

			<div class="input-area">
				<div class="input-container">
					<textarea class="message-input" id="messageInput" placeholder="Message EimemesChat AI..." rows="1"></textarea>
					<button class="send-btn" id="sendButton">
						<i class="fas fa-paper-plane"></i>
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Settings Panel -->
	<div class="settings-panel" id="settingsPanel">
		<div class="settings-content">
			<div class="settings-header">
				<h2 class="settings-title">Settings</h2>
				<button class="close-settings" id="closeSettings">
					<i class="fas fa-times"></i>
				</button>
			</div>
			
			<div class="settings-section">
				<h3 class="section-title">Appearance</h3>
				
				<div class="theme-toggle">
					<div class="theme-info">
						<i class="fas fa-palette"></i>
						<span>Dark Theme</span>
					</div>
					<label class="toggle-switch">
						<input type="checkbox" id="themeToggle" checked>
						<span class="toggle-slider"></span>
					</label>
				</div>
			</div>
			
			<div class="settings-section">
				<h3 class="section-title">AI Configuration</h3>
				<p style="color: var(--text-secondary); margin-bottom: 15px;">
					Advanced AI is pre-configured for the best experience.
				</p>
				<div style="background: var(--bg-input); padding: 15px; border-radius: 8px;">
					<p style="color: var(--accent-color); margin-bottom: 10px;">
						<i class="fas fa-check-circle"></i> AI Model: Active
					</p>
					<p style="color: var(--text-secondary); font-size: 0.9rem;">
						Using microsoft/DialoGPT-medium with pre-configured API access
					</p>
				</div>
			</div>
			
			<div class="settings-section">
				<h3 class="section-title">About</h3>
				<p style="color: var(--text-secondary);">
					AI ChatBot v2.0<br>
					Powered by Hugging Face AI<br>
					Pre-configured for instant use
				</p>
			</div>
		</div>
	</div>

	<script>
		// DOM Elements
		const messagesContainer = document.getElementById('messagesContainer');
		const messageInput = document.getElementById('messageInput');
		const sendButton = document.getElementById('sendButton');
		const newChatBtn = document.getElementById('newChatButton');
		const settingsButton = document.getElementById('settingsButton');
		const settingsPanel = document.getElementById('settingsPanel');
		const closeSettings = document.getElementById('closeSettings');
		const themeToggleButton = document.getElementById('themeToggleButton');
		const themeToggle = document.getElementById('themeToggle');
		const clearHistoryButton = document.getElementById('clearHistoryButton');
		const mobileMenuBtn = document.getElementById('mobileMenuBtn');
		const sidebar = document.getElementById('sidebar');
		const sidebarOverlay = document.getElementById('sidebarOverlay');

		// Pre-configured Hugging Face API Key (Replace with your actual key)
		const HUGGING_FACE_API_KEY = " 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"; // Replace with your actual key
		const AI_MODEL = "microsoft/DialoGPT-medium";

		// Initialize chat history
		let chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
		let currentTheme = localStorage.getItem('theme') || 'dark';

		// Apply saved theme
		document.body.setAttribute('data-theme', currentTheme);
		themeToggle.checked = currentTheme === 'dark';
		updateThemeButton();

		// Display chat history in sidebar
		function renderChatHistory() {
			const chatHistoryContainer = document.getElementById('chatHistory');
			chatHistoryContainer.innerHTML = '';
			
			if (chatHistory.length === 0) {
				chatHistoryContainer.innerHTML = '<div style="color: var(--text-secondary); padding: 10px; text-align: center;">No conversations yet</div>';
				return;
			}
			
			chatHistory.slice(-10).reverse().forEach((chat, index) => {
				const actualIndex = chatHistory.length - 1 - index;
				const historyItem = document.createElement('div');
				historyItem.className = 'history-item';
				if (actualIndex === chatHistory.length - 1) historyItem.classList.add('active');
				
				historyItem.innerHTML = `
					<i class="fas fa-message"></i>
					<span>${chat.title}</span>
				`;
				
				historyItem.addEventListener('click', () => loadChatHistory(actualIndex));
				chatHistoryContainer.appendChild(historyItem);
			});
		}

		// Load a specific chat from history
		function loadChatHistory(index) {
			const chat = chatHistory[index];
			messagesContainer.innerHTML = '';
			
			chat.messages.forEach(message => {
				addMessage(message.content, message.isUser, false);
			});
			
			// Update active state in sidebar
			document.querySelectorAll('.history-item').forEach(item => {
				item.classList.remove('active');
			});
			document.querySelectorAll('.history-item')[chatHistory.length - 1 - index].classList.add('active');
			
			// Close mobile sidebar
			if (window.innerWidth <= 768) {
				closeMobileSidebar();
			}
		}

		// Auto-resize textarea
		messageInput.addEventListener('input', function() {
			this.style.height = 'auto';
			this.style.height = (this.scrollHeight) + 'px';
		});

		// Function to add a message to the chat
		function addMessage(content, isUser = false, saveToHistory = true) {
			const messageDiv = document.createElement('div');
			messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
			
			const avatarDiv = document.createElement('div');
			avatarDiv.className = 'avatar';
			avatarDiv.innerHTML = isUser ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>';
			
			const contentDiv = document.createElement('div');
			contentDiv.className = 'message-content';
			contentDiv.textContent = content;
			
			messageDiv.appendChild(avatarDiv);
			messageDiv.appendChild(contentDiv);
			
			messagesContainer.appendChild(messageDiv);
			messagesContainer.scrollTop = messagesContainer.scrollHeight;
			
			// Save to chat history
			if (saveToHistory && chatHistory.length > 0) {
				const currentChat = chatHistory[chatHistory.length - 1];
				currentChat.messages.push({
					content: content,
					isUser: isUser,
					timestamp: new Date().toISOString()
				});
				
				// Update chat title if it's the first user message
				if (isUser && currentChat.messages.filter(m => m.isUser).length === 1) {
					currentChat.title = content.length > 30 ? content.substring(0, 30) + '...' : content;
					renderChatHistory();
				}
				
				localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
			}
		}

		// Function to show typing indicator
		function showTypingIndicator() {
			const typingDiv = document.createElement('div');
			typingDiv.className = 'message assistant';
			typingDiv.id = 'typingIndicator';
			
			const avatarDiv = document.createElement('div');
			avatarDiv.className = 'avatar';
			avatarDiv.innerHTML = '<i class="fas fa-robot"></i>';
			
			const contentDiv = document.createElement('div');
			contentDiv.className = 'message-content typing-indicator';
			contentDiv.innerHTML = `
				<div class="typing-dot"></div>
				<div class="typing-dot"></div>
				<div class="typing-dot"></div>
			`;
			
			typingDiv.appendChild(avatarDiv);
			typingDiv.appendChild(contentDiv);
			
			messagesContainer.appendChild(typingDiv);
			messagesContainer.scrollTop = messagesContainer.scrollHeight;
			
			return typingDiv;
		}

		// Function to remove typing indicator
		function removeTypingIndicator() {
			const typingIndicator = document.getElementById('typingIndicator');
			if (typingIndicator) {
				typingIndicator.remove();
			}
		}

		// Function to get response from Hugging Face AI
		async function getAIResponse(message) {
			try {
				const response = await fetch(
					`https://api-inference.huggingface.co/models/${AI_MODEL}`,
					{
						headers: {
							Authorization: `Bearer ${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}`,
							'Content-Type': 'application/json',
						},
						method: 'POST',
						body: JSON.stringify({
							inputs: message,
							parameters: {
								max_length: 150,
								temperature: 0.7,
								do_sample: true
							}
						}),
					}
				);

				if (!response.ok) {
					throw new Error(`HTTP error! status: ${response.status}`);
				}

				const result = await response.json();
				
				// Extract the generated text from the response
				if (result && result[0] && result[0].generated_text) {
					return result[0].generated_text.replace(message, '').trim();
				} else {
					throw new Error('Unexpected response format from AI');
				}
			} catch (error) {
				console.error('Error calling Hugging Face API:', error);
				// Fallback responses
				const fallbackResponses = [
					"I understand what you're saying. Could you tell me more?",
					"That's interesting! What would you like to know about this?",
					"I'm here to help with your questions. What else would you like to discuss?",
					"Thanks for sharing that with me. Is there anything specific you'd like to know?"
				];
				return fallbackResponses[Math.floor(Math.random() * fallbackResponses.length)];
			}
		}

		// Function to handle sending a message
		async function sendMessage() {
			const message = messageInput.value.trim();
			if (message === '') return;
			
			// Add user message
			addMessage(message, true);
			
			// Clear input and reset height
			messageInput.value = '';
			messageInput.style.height = 'auto';
			
			// Show typing indicator
			const typingIndicator = showTypingIndicator();
			
			try {
				// Get AI response
				const response = await getAIResponse(message);
				
				// Simulate processing delay
				setTimeout(() => {
					removeTypingIndicator();
					addMessage(response);
				}, 1000);
			} catch (error) {
				removeTypingIndicator();
				addMessage("I'm experiencing some technical difficulties. Please try again in a moment.");
				console.error('Error processing message:', error);
			}
		}

		// Theme functions
		function toggleTheme() {
			currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
			document.body.setAttribute('data-theme', currentTheme);
			localStorage.setItem('theme', currentTheme);
			updateThemeButton();
		}

		function updateThemeButton() {
			const icon = themeToggleButton.querySelector('i');
			const text = themeToggleButton.querySelector('span');
			
			if (currentTheme === 'dark') {
				icon.className = 'fas fa-moon';
				text.textContent = 'Dark Theme';
			} else {
				icon.className = 'fas fa-sun';
				text.textContent = 'Light Theme';
			}
		}

		// Clear chat history
		function clearHistory() {
			if (confirm('Are you sure you want to clear all chat history?')) {
				chatHistory = [];
				localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
				renderChatHistory();
				messagesContainer.innerHTML = `
					<div class="welcome-message">
						<h1 class="welcome-title">AI ChatBot</h1>
						<p class="welcome-subtitle">Experience ChatGPT-like conversations powered by advanced AI</p>
						
						<div class="capabilities">
							<div class="capability">
								<i class="fas fa-brain"></i>
								<div class="capability-title">Advanced AI</div>
								<div class="capability-desc">Powered by Hugging Face models</div>
							</div>
							<div class="capability">
								<i class="fas fa-bolt"></i>
								<div class="capability-title">Fast Responses</div>
								<div class="capability-desc">Quick and accurate answers</div>
							</div>
							<div class="capability">
								<i class="fas fa-magic"></i>
								<div class="capability-title">Smart Context</div>
								<div class="capability-desc">Understands conversation flow</div>
							</div>
						</div>
					</div>
				`;
			}
		}

		// Mobile sidebar functions
		function toggleMobileSidebar() {
			sidebar.classList.toggle('active');
			sidebarOverlay.classList.toggle('active');
		}

		function closeMobileSidebar() {
			sidebar.classList.remove('active');
			sidebarOverlay.classList.remove('active');
		}

		// Event listeners
		sendButton.addEventListener('click', sendMessage);
		
		messageInput.addEventListener('keydown', (e) => {
			if (e.key === 'Enter' && !e.shiftKey) {
				e.preventDefault();
				sendMessage();
			}
		});

		newChatBtn.addEventListener('click', () => {
			// Create a new chat in history
			chatHistory.push({
				title: 'New Chat',
				messages: [],
				timestamp: new Date().toISOString()
			});
			
			// Clear messages and show welcome screen
			messagesContainer.innerHTML = `
				<div class="welcome-message">
					<h1 class="welcome-title">AI ChatBot</h1>
					<p class="welcome-subtitle">Experience ChatGPT-like conversations powered by advanced AI</p>
					
					<div class="capabilities">
						<div class="capability">
							<i class="fas fa-brain"></i>
							<div class="capability-title">Advanced AI</div>
							<div class="capability-desc">Powered by Hugging Face models</div>
						</div>
						<div class="capability">
							<i class="fas fa-bolt"></i>
							<div class="capability-title">Fast Responses</div>
							<div class="capability-desc">Quick and accurate answers</div>
						</div>
						<div class="capability">
							<i class="fas fa-magic"></i>
							<div class="capability-title">Smart Context</div>
							<div class="capability-desc">Understands conversation flow</div>
						</div>
					</div>
				</div>
			`;
			
			localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
			renderChatHistory();
			
			// Close mobile sidebar
			closeMobileSidebar();
		});

		// Settings and theme event listeners
		settingsButton.addEventListener('click', () => {
			settingsPanel.style.display = 'flex';
			closeMobileSidebar();
		});

		closeSettings.addEventListener('click', () => {
			settingsPanel.style.display = 'none';
		});

		themeToggleButton.addEventListener('click', toggleTheme);
		themeToggle.addEventListener('change', toggleTheme);

		clearHistoryButton.addEventListener('click', clearHistory);

		// Mobile menu
		mobileMenuBtn.addEventListener('click', toggleMobileSidebar);
		sidebarOverlay.addEventListener('click', closeMobileSidebar);

		// Close mobile menu when clicking on menu items
		document.querySelectorAll('.menu-item, .history-item, .new-chat-btn').forEach(item => {
			item.addEventListener('click', () => {
				if (window.innerWidth <= 768) {
					closeMobileSidebar();
				}
			});
		});

		// Initialize the application
		function init() {
			renderChatHistory();
			
			// If there's no chat history, create a default one
			if (chatHistory.length === 0) {
				chatHistory.push({
					title: 'Welcome Chat',
					messages: [],
					timestamp: new Date().toISOString()
				});
				localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
			}
		}

		// Start the application
		init();
	</script>
</body>
</html>